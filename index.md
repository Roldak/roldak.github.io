---
layout: default
title: Miniboxing Plugin for Scala
short_title: Welcome
comments: "off"
---

Miniboxing is a Scala compiler transformation that [improves the performance of generics](/benchmarks.html) for primitive numeric types. Unlike <a href="http://infoscience.epfl.ch/record/150134/files/p42-dragos.pdf" target="_blank">specialization</a>, miniboxing reduces the amount of generated bytecode without sacrificing execution speed, therefore being capable of [transforming the Scala collections hierachy](/example_linkedlist.html). Miniboxing is currently implemented as a Scala compiler plugin which you can [easily try on your project](/using-sbt.html).

Miniboxing makes a trade-off between the bytecode size and performance: it produces 4x-100x less bytecode than naively duplicating and adapting the generic bytecode for every primitive type. Still, its overhead is less than 10% compared to manually specialized code. [Benchmarks show miniboxing speeds up generic collections by factors of 1.5x to 22x](/benchmarks.html). The following benchmark shows the miniboxing plugin at work on an array buffer:

<center><img width="90%" src="/graphs/speed-gen.png"/></center>
Where:

 * `generic` is the generic code
 * `miniboxing` is the code generated by our plugin
 * `specialization` is the code generated by the <a href="http://days2010.scala-lang.org/node/138/151/15-7-E%20-%20Specialization%20-%20Dragos.mp4" target="_blank"><code>@specialized</code> annotation in Scala</a>
 * `monomorphic` is the code specialized by hand

## Why not try it yourself?

Using miniboxing is as easy as adding an annotation:

{% highlight scala %}
class C[@miniboxed T](val t: T)
{% endhighlight %}

and adding a compiler plugin to your [sbt build](/using_sbt.html) or [command line](/using_out.html).

To learn more, see the [introduction to miniboxing](/intro.html) or the [tutorial](/tutorial.html).

## Disclaimer

{% include status.md %}
